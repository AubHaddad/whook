// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`initCreateWhook should fail with access problems 2`] = `
Object {
  "copyCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example",
      "/home/whoiam/projects/yolo",
      Object {
        "filter": [Function],
      },
    ],
  ],
  "execCalls": Array [
    Array [
      "git init",
      Object {
        "cwd": "/home/whoiam/projects/yolo",
      },
      [Function],
    ],
  ],
  "logCalls": Array [
    Array [
      "warning",
      "🏁️ - Starting Whook project's creation!",
    ],
  ],
  "oraCalls": Array [],
  "oraStartCalls": Array [],
  "oraStopAndPersistCalls": Array [],
  "readFileCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example/package.json",
    ],
    Array [
      "/var/lib/node/node_modules/whook-example/README.md",
    ],
  ],
  "readdirCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example/src/config",
    ],
  ],
  "writeFileCalls": Array [
    Array [
      "/home/whoiam/projects/yolo/README.md",
      "# super-project

YOLO

## Author
Wayne Campbell

",
    ],
    Array [
      "/home/whoiam/projects/yolo/.env.development",
      "JWT_SECRET=oudelali
",
    ],
    Array [
      "/home/whoiam/projects/yolo/.env.production",
      "JWT_SECRET=oudelali
",
    ],
    Array [
      "/home/whoiam/projects/yolo/package.json",
      "{\\"name\\":\\"super-project\\",\\"description\\":\\"A new Whook project\\",\\"version\\":\\"0.0.0\\",\\"license\\":\\"SEE LICENSE\\",\\"engines\\":{\\"node\\":\\">=16.15.0\\"},\\"main\\":\\"dist/index.js\\",\\"types\\":\\"dist/index.d.ts\\",\\"type\\":\\"module\\",\\"private\\":true,\\"keywords\\":[\\"whook\\"],\\"author\\":{\\"name\\":\\"Wayne Campbell\\",\\"email\\":\\"wayne@warner.com\\"},\\"scripts\\":{\\"apitypes\\":\\"npm run --silent whook -- generateOpenAPISchema --authenticated=true | npm run --silent whook -- generateOpenAPITypes > src/openAPISchema.d.ts\\",\\"architecture\\":\\"jsarch 'src/**/*.ts' > ARCHITECTURE.md && git add ARCHITECTURE.md\\",\\"build\\":\\"rimraf -f 'dist' && tsc --outDir dist\\",\\"postbuild\\":\\"PROJECT_SRC=\\\\\\"$PWD/src\\\\\\" NODE_ENV=\${NODE_ENV:-development} ts-node --esm --files -- bin/build.js\\",\\"cover\\":\\"npm run jest -- --coverage\\",\\"debug\\":\\"NODE_ENV=\${NODE_ENV:-development} DEV_MODE=1 DESTROY_SOCKETS=1 DEBUG=\${DEBUG:-whook} ts-node --esm --inspect bin/dev\\",\\"dev\\":\\"NODE_ENV=\${NODE_ENV:-development} DEV_MODE=1 DESTROY_SOCKETS=1 ts-node --esm --files bin/dev.js\\",\\"genPackagelock\\":\\"npm i --package-lock-only\\",\\"jest\\":\\"NODE_OPTIONS=--experimental-vm-modules NODE_ENV=test jest\\",\\"lint\\":\\"eslint 'src/**/*.ts'\\",\\"prettier\\":\\"prettier --write 'src/**/*.ts'\\",\\"start\\":\\"PROJECT_SRC=\\\\\\"$PWD/dist\\\\\\" NODE_ENV=\${NODE_ENV:-development} node bin/start.js\\",\\"test\\":\\"NODE_ENV=test npm run build && npm run jest\\",\\"watch\\":\\"NODE_ENV=\${NODE_ENV:-development} DEV_MODE=1 DESTROY_SOCKETS=1 ts-node --esm --files bin/watch.js\\",\\"whook\\":\\"NODE_ENV=\${NODE_ENV:-development} whook\\",\\"whook-dev\\":\\"PROJECT_SRC=\\\\\\"$PWD/src\\\\\\" NODE_ENV=\${NODE_ENV:-development} ts-node --esm --files -- bin/whook.js\\",\\"whook-repl\\":\\"PROJECT_SRC=\\\\\\"$PWD/src\\\\\\" NODE_ENV=\${NODE_ENV:-development} ts-node --esm --files -- bin/repl.js\\"},\\"files\\":[\\"bin\\",\\"dist\\",\\"src\\",\\"LICENSE\\",\\"README.md\\",\\"CHANGELOG.md\\"],\\"dependencies\\":{\\"@whook/authorization\\":\\"<current_version>\\",\\"@whook/cli\\":\\"<current_version>\\",\\"@whook/cors\\":\\"<current_version>\\",\\"@whook/http-router\\":\\"<current_version>\\",\\"@whook/http-server\\":\\"^9.0.1\\",\\"@whook/http-transaction\\":\\"<current_version>\\",\\"@whook/swagger-ui\\":\\"<current_version>\\",\\"@whook/whook\\":\\"<current_version>\\",\\"common-services\\":\\"^11.0.1\\",\\"http-auth-utils\\":\\"^3.0.3\\",\\"jwt-service\\":\\"^9.0.1\\",\\"knifecycle\\":\\"^14.0.0\\",\\"openapi-schema-validator\\":\\"^11.0.1\\",\\"openapi-types\\":\\"^11.0.1\\",\\"strict-qs\\":\\"^7.0.0\\",\\"type-fest\\":\\"^2.13.0\\",\\"yerror\\":\\"^6.1.1\\",\\"yhttperror\\":\\"^6.1.1\\"},\\"devDependencies\\":{\\"@types/jest\\":\\"^28.1.1\\",\\"@typescript-eslint/eslint-plugin\\":\\"^5.27.0\\",\\"@typescript-eslint/parser\\":\\"^5.27.0\\",\\"axios\\":\\"^0.27.2\\",\\"chokidar\\":\\"^3.5.1\\",\\"esbuild\\":\\"^0.14.43\\",\\"esbuild-node-externals\\":\\"^1.4.1\\",\\"esbuild-jest\\":\\"^0.5.0\\",\\"eslint\\":\\"^8.17.0\\",\\"eslint-config-prettier\\":\\"^8.5.0\\",\\"eslint-plugin-prettier\\":\\"^4.0.0\\",\\"jest\\":\\"^28.1.0\\",\\"jsarch\\":\\"^5.0.1\\",\\"parse-gitignore\\":\\"^1.0.1\\",\\"prettier\\":\\"^2.6.2\\",\\"rimraf\\":\\"^3.0.2\\",\\"schema2dts\\":\\"^4.1.1\\",\\"typescript\\":\\"^4.7.3\\",\\"ts-node\\":\\"^10.8.1\\"},\\"eslintConfig\\":{\\"extends\\":[\\"eslint:recommended\\",\\"plugin:prettier/recommended\\",\\"plugin:@typescript-eslint/eslint-recommended\\",\\"plugin:@typescript-eslint/recommended\\"],\\"parserOptions\\":{\\"ecmaVersion\\":2018,\\"sourceType\\":\\"script\\",\\"modules\\":true},\\"env\\":{\\"es6\\":true,\\"node\\":true,\\"jest\\":true,\\"mocha\\":true},\\"plugins\\":[\\"prettier\\"],\\"rules\\":{\\"prettier/prettier\\":\\"error\\"},\\"parser\\":\\"@typescript-eslint/parser\\",\\"ignorePatterns\\":[\\"*.d.ts\\"]},\\"prettier\\":{\\"semi\\":true,\\"printWidth\\":80,\\"singleQuote\\":true,\\"trailingComma\\":\\"all\\",\\"proseWrap\\":\\"always\\"},\\"jest\\":{\\"coverageReporters\\":[\\"lcov\\",\\"html\\"],\\"testPathIgnorePatterns\\":[\\"/node_modules/\\"],\\"roots\\":[\\"<rootDir>/src\\"],\\"testEnvironment\\":\\"node\\",\\"transform\\":{\\"^.+\\\\\\\\.tsx?$\\":[\\"esbuild-jest\\",{\\"sourcemap\\":true,\\"format\\":\\"esm\\"}]},\\"moduleNameMapper\\":{\\"(.+)\\\\\\\\.js\\":\\"$1\\"},\\"extensionsToTreatAsEsm\\":[\\".ts\\"]}}",
    ],
    Array [
      "/home/whoiam/projects/yolo/LICENSE",
      "Copyright Wayne Campbell, all rights reserved.",
    ],
    Array [
      "/home/whoiam/projects/yolo/.gitignore",
      "node_modules",
    ],
  ],
}
`;

exports[`initCreateWhook should handle git initialization problems 2`] = `
Object {
  "copyCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example",
      "/home/whoiam/projects/yolo",
      Object {
        "filter": [Function],
      },
    ],
  ],
  "execCalls": Array [
    Array [
      "git init",
      Object {
        "cwd": "/home/whoiam/projects/yolo",
      },
      [Function],
    ],
    Array [
      "npm i",
      Object {
        "cwd": "/home/whoiam/projects/yolo",
      },
      [Function],
    ],
  ],
  "logCalls": Array [
    Array [
      "warning",
      "🏁️ - Starting Whook project's creation!",
    ],
    Array [
      "error",
      "⚠️ - Could not initialize the git project!",
    ],
    Array [
      "warning",
      "✔️ - Project created!",
    ],
    Array [
      "warning",
      "➕ - Run \`cd yolo\` to enter the project.",
    ],
    Array [
      "warning",
      "➕ - Then run \`DRY_RUN=1 npm run dev\` to check installation.",
    ],
    Array [
      "warning",
      "➕ - And finally run \`npm run watch\` to start dev!",
    ],
  ],
  "oraCalls": Array [
    Array [
      Object {
        "text": "Installing dependencies...",
      },
    ],
  ],
  "oraStartCalls": Array [
    Array [],
  ],
  "oraStopAndPersistCalls": Array [
    Array [
      Object {
        "symbol": "✔️",
        "text": "Installed dependencies",
      },
    ],
  ],
  "readFileCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example/package.json",
    ],
    Array [
      "/var/lib/node/node_modules/whook-example/README.md",
    ],
  ],
  "readdirCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example/package.json",
    ],
    Array [
      "/var/lib/node/node_modules/whook-example/README.md",
    ],
  ],
  "writeFileCalls": Array [
    Array [
      "/home/whoiam/projects/yolo/README.md",
      "# super-project

YOLO

## Author
Wayne Campbell

",
    ],
    Array [
      "/home/whoiam/projects/yolo/.env.development",
      "JWT_SECRET=oudelali
",
    ],
    Array [
      "/home/whoiam/projects/yolo/.env.production",
      "JWT_SECRET=oudelali
",
    ],
    Array [
      "/home/whoiam/projects/yolo/package.json",
      "{\\"name\\":\\"super-project\\",\\"description\\":\\"A new Whook project\\",\\"version\\":\\"0.0.0\\",\\"license\\":\\"SEE LICENSE\\",\\"engines\\":{\\"node\\":\\">=16.15.0\\"},\\"main\\":\\"dist/index.js\\",\\"types\\":\\"dist/index.d.ts\\",\\"type\\":\\"module\\",\\"private\\":true,\\"keywords\\":[\\"whook\\"],\\"author\\":{\\"name\\":\\"Wayne Campbell\\",\\"email\\":\\"wayne@warner.com\\"},\\"scripts\\":{\\"apitypes\\":\\"npm run --silent whook -- generateOpenAPISchema --authenticated=true | npm run --silent whook -- generateOpenAPITypes > src/openAPISchema.d.ts\\",\\"architecture\\":\\"jsarch 'src/**/*.ts' > ARCHITECTURE.md && git add ARCHITECTURE.md\\",\\"build\\":\\"rimraf -f 'dist' && tsc --outDir dist\\",\\"postbuild\\":\\"PROJECT_SRC=\\\\\\"$PWD/src\\\\\\" NODE_ENV=\${NODE_ENV:-development} ts-node --esm --files -- bin/build.js\\",\\"cover\\":\\"npm run jest -- --coverage\\",\\"debug\\":\\"NODE_ENV=\${NODE_ENV:-development} DEV_MODE=1 DESTROY_SOCKETS=1 DEBUG=\${DEBUG:-whook} ts-node --esm --inspect bin/dev\\",\\"dev\\":\\"NODE_ENV=\${NODE_ENV:-development} DEV_MODE=1 DESTROY_SOCKETS=1 ts-node --esm --files bin/dev.js\\",\\"genPackagelock\\":\\"npm i --package-lock-only\\",\\"jest\\":\\"NODE_OPTIONS=--experimental-vm-modules NODE_ENV=test jest\\",\\"lint\\":\\"eslint 'src/**/*.ts'\\",\\"prettier\\":\\"prettier --write 'src/**/*.ts'\\",\\"start\\":\\"PROJECT_SRC=\\\\\\"$PWD/dist\\\\\\" NODE_ENV=\${NODE_ENV:-development} node bin/start.js\\",\\"test\\":\\"NODE_ENV=test npm run build && npm run jest\\",\\"watch\\":\\"NODE_ENV=\${NODE_ENV:-development} DEV_MODE=1 DESTROY_SOCKETS=1 ts-node --esm --files bin/watch.js\\",\\"whook\\":\\"NODE_ENV=\${NODE_ENV:-development} whook\\",\\"whook-dev\\":\\"PROJECT_SRC=\\\\\\"$PWD/src\\\\\\" NODE_ENV=\${NODE_ENV:-development} ts-node --esm --files -- bin/whook.js\\",\\"whook-repl\\":\\"PROJECT_SRC=\\\\\\"$PWD/src\\\\\\" NODE_ENV=\${NODE_ENV:-development} ts-node --esm --files -- bin/repl.js\\"},\\"files\\":[\\"bin\\",\\"dist\\",\\"src\\",\\"LICENSE\\",\\"README.md\\",\\"CHANGELOG.md\\"],\\"dependencies\\":{\\"@whook/authorization\\":\\"<current_version>\\",\\"@whook/cli\\":\\"<current_version>\\",\\"@whook/cors\\":\\"<current_version>\\",\\"@whook/http-router\\":\\"<current_version>\\",\\"@whook/http-server\\":\\"^9.0.1\\",\\"@whook/http-transaction\\":\\"<current_version>\\",\\"@whook/swagger-ui\\":\\"<current_version>\\",\\"@whook/whook\\":\\"<current_version>\\",\\"common-services\\":\\"^11.0.1\\",\\"http-auth-utils\\":\\"^3.0.3\\",\\"jwt-service\\":\\"^9.0.1\\",\\"knifecycle\\":\\"^14.0.0\\",\\"openapi-schema-validator\\":\\"^11.0.1\\",\\"openapi-types\\":\\"^11.0.1\\",\\"strict-qs\\":\\"^7.0.0\\",\\"type-fest\\":\\"^2.13.0\\",\\"yerror\\":\\"^6.1.1\\",\\"yhttperror\\":\\"^6.1.1\\"},\\"devDependencies\\":{\\"@types/jest\\":\\"^28.1.1\\",\\"@typescript-eslint/eslint-plugin\\":\\"^5.27.0\\",\\"@typescript-eslint/parser\\":\\"^5.27.0\\",\\"axios\\":\\"^0.27.2\\",\\"chokidar\\":\\"^3.5.1\\",\\"esbuild\\":\\"^0.14.43\\",\\"esbuild-node-externals\\":\\"^1.4.1\\",\\"esbuild-jest\\":\\"^0.5.0\\",\\"eslint\\":\\"^8.17.0\\",\\"eslint-config-prettier\\":\\"^8.5.0\\",\\"eslint-plugin-prettier\\":\\"^4.0.0\\",\\"jest\\":\\"^28.1.0\\",\\"jsarch\\":\\"^5.0.1\\",\\"parse-gitignore\\":\\"^1.0.1\\",\\"prettier\\":\\"^2.6.2\\",\\"rimraf\\":\\"^3.0.2\\",\\"schema2dts\\":\\"^4.1.1\\",\\"typescript\\":\\"^4.7.3\\",\\"ts-node\\":\\"^10.8.1\\"},\\"eslintConfig\\":{\\"extends\\":[\\"eslint:recommended\\",\\"plugin:prettier/recommended\\",\\"plugin:@typescript-eslint/eslint-recommended\\",\\"plugin:@typescript-eslint/recommended\\"],\\"parserOptions\\":{\\"ecmaVersion\\":2018,\\"sourceType\\":\\"script\\",\\"modules\\":true},\\"env\\":{\\"es6\\":true,\\"node\\":true,\\"jest\\":true,\\"mocha\\":true},\\"plugins\\":[\\"prettier\\"],\\"rules\\":{\\"prettier/prettier\\":\\"error\\"},\\"parser\\":\\"@typescript-eslint/parser\\",\\"ignorePatterns\\":[\\"*.d.ts\\"]},\\"prettier\\":{\\"semi\\":true,\\"printWidth\\":80,\\"singleQuote\\":true,\\"trailingComma\\":\\"all\\",\\"proseWrap\\":\\"always\\"},\\"jest\\":{\\"coverageReporters\\":[\\"lcov\\",\\"html\\"],\\"testPathIgnorePatterns\\":[\\"/node_modules/\\"],\\"roots\\":[\\"<rootDir>/src\\"],\\"testEnvironment\\":\\"node\\",\\"transform\\":{\\"^.+\\\\\\\\.tsx?$\\":[\\"esbuild-jest\\",{\\"sourcemap\\":true,\\"format\\":\\"esm\\"}]},\\"moduleNameMapper\\":{\\"(.+)\\\\\\\\.js\\":\\"$1\\"},\\"extensionsToTreatAsEsm\\":[\\".ts\\"]}}",
    ],
    Array [
      "/home/whoiam/projects/yolo/LICENSE",
      "Copyright Wayne Campbell, all rights reserved.",
    ],
    Array [
      "/home/whoiam/projects/yolo/.gitignore",
      "node_modules",
    ],
  ],
}
`;

exports[`initCreateWhook should handle network issues 2`] = `
Object {
  "copyCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example",
      "/home/whoiam/projects/yolo",
      Object {
        "filter": [Function],
      },
    ],
  ],
  "execCalls": Array [
    Array [
      "git init",
      Object {
        "cwd": "/home/whoiam/projects/yolo",
      },
      [Function],
    ],
    Array [
      "npm i",
      Object {
        "cwd": "/home/whoiam/projects/yolo",
      },
      [Function],
    ],
  ],
  "logCalls": Array [
    Array [
      "warning",
      "🏁️ - Starting Whook project's creation!",
    ],
    Array [
      "debug",
      "Discarding \\"/var/lib/node/node_modules/whook-example/package.json\\" => \\"/home/whoiam/projects/yolo/package.json (\\"..\\").",
    ],
    Array [
      "debug",
      "Discarding \\"/var/lib/node/node_modules/whook-example/package-lock.json\\" => \\"/home/whoiam/projects/yolo/package-lock.json (\\"..\\").",
    ],
    Array [
      "debug",
      "Discarding \\"/var/lib/node/node_modules/whook-example/LICENSE\\" => \\"/home/whoiam/projects/yolo/LICENSE (\\"..\\").",
    ],
    Array [
      "debug",
      "Discarding \\"/var/lib/node/node_modules/whook-example/dist/index.js\\" => \\"/home/whoiam/projects/yolo/dist/index.js (\\"../..\\").",
    ],
    Array [
      "debug",
      "Moving \\"/var/lib/node/node_modules/whook-example/src/index.js\\" => \\"/home/whoiam/projects/yolo/src/index.js\\".",
    ],
    Array [
      "debug",
      "Discarding \\"/var/lib/node/node_modules/whook-example/coverage/index.html\\" => \\"/home/whoiam/projects/yolo/coverage/index.html (\\"../..\\").",
    ],
    Array [
      "debug",
      "Discarding \\"/var/lib/node/node_modules/whook-example/node_modules/whook/index.js\\" => \\"/home/whoiam/projects/yolo/node_modules/whook/index.js (\\"../../..\\").",
    ],
    Array [
      "error",
      "⚠️ - Could not initialize the git project!",
    ],
    Array [
      "error",
      "⚠️ - Could not retrieve the \`.gitignore\` file contents from: \\"https://www.gitignore.io/api/osx,node,linux\\"",
    ],
    Array [
      "warning",
      "✔️ - Project created!",
    ],
    Array [
      "warning",
      "➕ - Run \`cd yolo\` to enter the project.",
    ],
    Array [
      "warning",
      "➕ - Then run \`DRY_RUN=1 npm run dev\` to check installation.",
    ],
    Array [
      "warning",
      "➕ - And finally run \`npm run watch\` to start dev!",
    ],
  ],
  "oraCalls": Array [
    Array [
      Object {
        "text": "Installing dependencies...",
      },
    ],
  ],
  "oraStartCalls": Array [
    Array [],
  ],
  "oraStopAndPersistCalls": Array [
    Array [
      Object {
        "symbol": "✔️",
        "text": "Installed dependencies",
      },
    ],
  ],
  "readFileCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example/package.json",
    ],
    Array [
      "/var/lib/node/node_modules/whook-example/README.md",
    ],
  ],
  "readdirCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example/package.json",
    ],
    Array [
      "/var/lib/node/node_modules/whook-example/README.md",
    ],
  ],
  "writeFileCalls": Array [
    Array [
      "/home/whoiam/projects/yolo/README.md",
      "# super-project

YOLO

## Author
Wayne Campbell

",
    ],
    Array [
      "/home/whoiam/projects/yolo/.env.development",
      "JWT_SECRET=oudelali
",
    ],
    Array [
      "/home/whoiam/projects/yolo/.env.production",
      "JWT_SECRET=oudelali
",
    ],
    Array [
      "/home/whoiam/projects/yolo/package.json",
      "{\\"name\\":\\"super-project\\",\\"description\\":\\"A new Whook project\\",\\"version\\":\\"0.0.0\\",\\"license\\":\\"SEE LICENSE\\",\\"engines\\":{\\"node\\":\\">=16.15.0\\"},\\"main\\":\\"dist/index.js\\",\\"types\\":\\"dist/index.d.ts\\",\\"type\\":\\"module\\",\\"private\\":true,\\"keywords\\":[\\"whook\\"],\\"author\\":{\\"name\\":\\"Wayne Campbell\\",\\"email\\":\\"wayne@warner.com\\"},\\"scripts\\":{\\"apitypes\\":\\"npm run --silent whook -- generateOpenAPISchema --authenticated=true | npm run --silent whook -- generateOpenAPITypes > src/openAPISchema.d.ts\\",\\"architecture\\":\\"jsarch 'src/**/*.ts' > ARCHITECTURE.md && git add ARCHITECTURE.md\\",\\"build\\":\\"rimraf -f 'dist' && tsc --outDir dist\\",\\"postbuild\\":\\"PROJECT_SRC=\\\\\\"$PWD/src\\\\\\" NODE_ENV=\${NODE_ENV:-development} ts-node --esm --files -- bin/build.js\\",\\"cover\\":\\"npm run jest -- --coverage\\",\\"debug\\":\\"NODE_ENV=\${NODE_ENV:-development} DEV_MODE=1 DESTROY_SOCKETS=1 DEBUG=\${DEBUG:-whook} ts-node --esm --inspect bin/dev\\",\\"dev\\":\\"NODE_ENV=\${NODE_ENV:-development} DEV_MODE=1 DESTROY_SOCKETS=1 ts-node --esm --files bin/dev.js\\",\\"genPackagelock\\":\\"npm i --package-lock-only\\",\\"jest\\":\\"NODE_OPTIONS=--experimental-vm-modules NODE_ENV=test jest\\",\\"lint\\":\\"eslint 'src/**/*.ts'\\",\\"prettier\\":\\"prettier --write 'src/**/*.ts'\\",\\"start\\":\\"PROJECT_SRC=\\\\\\"$PWD/dist\\\\\\" NODE_ENV=\${NODE_ENV:-development} node bin/start.js\\",\\"test\\":\\"NODE_ENV=test npm run build && npm run jest\\",\\"watch\\":\\"NODE_ENV=\${NODE_ENV:-development} DEV_MODE=1 DESTROY_SOCKETS=1 ts-node --esm --files bin/watch.js\\",\\"whook\\":\\"NODE_ENV=\${NODE_ENV:-development} whook\\",\\"whook-dev\\":\\"PROJECT_SRC=\\\\\\"$PWD/src\\\\\\" NODE_ENV=\${NODE_ENV:-development} ts-node --esm --files -- bin/whook.js\\",\\"whook-repl\\":\\"PROJECT_SRC=\\\\\\"$PWD/src\\\\\\" NODE_ENV=\${NODE_ENV:-development} ts-node --esm --files -- bin/repl.js\\"},\\"files\\":[\\"bin\\",\\"dist\\",\\"src\\",\\"LICENSE\\",\\"README.md\\",\\"CHANGELOG.md\\"],\\"dependencies\\":{\\"@whook/authorization\\":\\"<current_version>\\",\\"@whook/cli\\":\\"<current_version>\\",\\"@whook/cors\\":\\"<current_version>\\",\\"@whook/http-router\\":\\"<current_version>\\",\\"@whook/http-server\\":\\"^9.0.1\\",\\"@whook/http-transaction\\":\\"<current_version>\\",\\"@whook/swagger-ui\\":\\"<current_version>\\",\\"@whook/whook\\":\\"<current_version>\\",\\"common-services\\":\\"^11.0.1\\",\\"http-auth-utils\\":\\"^3.0.3\\",\\"jwt-service\\":\\"^9.0.1\\",\\"knifecycle\\":\\"^14.0.0\\",\\"openapi-schema-validator\\":\\"^11.0.1\\",\\"openapi-types\\":\\"^11.0.1\\",\\"strict-qs\\":\\"^7.0.0\\",\\"type-fest\\":\\"^2.13.0\\",\\"yerror\\":\\"^6.1.1\\",\\"yhttperror\\":\\"^6.1.1\\"},\\"devDependencies\\":{\\"@types/jest\\":\\"^28.1.1\\",\\"@typescript-eslint/eslint-plugin\\":\\"^5.27.0\\",\\"@typescript-eslint/parser\\":\\"^5.27.0\\",\\"axios\\":\\"^0.27.2\\",\\"chokidar\\":\\"^3.5.1\\",\\"esbuild\\":\\"^0.14.43\\",\\"esbuild-node-externals\\":\\"^1.4.1\\",\\"esbuild-jest\\":\\"^0.5.0\\",\\"eslint\\":\\"^8.17.0\\",\\"eslint-config-prettier\\":\\"^8.5.0\\",\\"eslint-plugin-prettier\\":\\"^4.0.0\\",\\"jest\\":\\"^28.1.0\\",\\"jsarch\\":\\"^5.0.1\\",\\"parse-gitignore\\":\\"^1.0.1\\",\\"prettier\\":\\"^2.6.2\\",\\"rimraf\\":\\"^3.0.2\\",\\"schema2dts\\":\\"^4.1.1\\",\\"typescript\\":\\"^4.7.3\\",\\"ts-node\\":\\"^10.8.1\\"},\\"eslintConfig\\":{\\"extends\\":[\\"eslint:recommended\\",\\"plugin:prettier/recommended\\",\\"plugin:@typescript-eslint/eslint-recommended\\",\\"plugin:@typescript-eslint/recommended\\"],\\"parserOptions\\":{\\"ecmaVersion\\":2018,\\"sourceType\\":\\"script\\",\\"modules\\":true},\\"env\\":{\\"es6\\":true,\\"node\\":true,\\"jest\\":true,\\"mocha\\":true},\\"plugins\\":[\\"prettier\\"],\\"rules\\":{\\"prettier/prettier\\":\\"error\\"},\\"parser\\":\\"@typescript-eslint/parser\\",\\"ignorePatterns\\":[\\"*.d.ts\\"]},\\"prettier\\":{\\"semi\\":true,\\"printWidth\\":80,\\"singleQuote\\":true,\\"trailingComma\\":\\"all\\",\\"proseWrap\\":\\"always\\"},\\"jest\\":{\\"coverageReporters\\":[\\"lcov\\",\\"html\\"],\\"testPathIgnorePatterns\\":[\\"/node_modules/\\"],\\"roots\\":[\\"<rootDir>/src\\"],\\"testEnvironment\\":\\"node\\",\\"transform\\":{\\"^.+\\\\\\\\.tsx?$\\":[\\"esbuild-jest\\",{\\"sourcemap\\":true,\\"format\\":\\"esm\\"}]},\\"moduleNameMapper\\":{\\"(.+)\\\\\\\\.js\\":\\"$1\\"},\\"extensionsToTreatAsEsm\\":[\\".ts\\"]}}",
    ],
    Array [
      "/home/whoiam/projects/yolo/LICENSE",
      "Copyright Wayne Campbell, all rights reserved.",
    ],
  ],
}
`;

exports[`initCreateWhook should work 2`] = `
Object {
  "copyCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example",
      "/home/whoiam/projects/yolo",
      Object {
        "filter": [Function],
      },
    ],
  ],
  "execCalls": Array [
    Array [
      "git init",
      Object {
        "cwd": "/home/whoiam/projects/yolo",
      },
      [Function],
    ],
    Array [
      "npm i",
      Object {
        "cwd": "/home/whoiam/projects/yolo",
      },
      [Function],
    ],
  ],
  "logCalls": Array [
    Array [
      "warning",
      "🏁️ - Starting Whook project's creation!",
    ],
    Array [
      "debug",
      "Discarding \\"/var/lib/node/node_modules/whook-example/package.json\\" => \\"/home/whoiam/projects/yolo/package.json (\\"..\\").",
    ],
    Array [
      "debug",
      "Discarding \\"/var/lib/node/node_modules/whook-example/package-lock.json\\" => \\"/home/whoiam/projects/yolo/package-lock.json (\\"..\\").",
    ],
    Array [
      "debug",
      "Discarding \\"/var/lib/node/node_modules/whook-example/LICENSE\\" => \\"/home/whoiam/projects/yolo/LICENSE (\\"..\\").",
    ],
    Array [
      "debug",
      "Discarding \\"/var/lib/node/node_modules/whook-example/dist/index.js\\" => \\"/home/whoiam/projects/yolo/dist/index.js (\\"../..\\").",
    ],
    Array [
      "debug",
      "Moving \\"/var/lib/node/node_modules/whook-example/src/index.js\\" => \\"/home/whoiam/projects/yolo/src/index.js\\".",
    ],
    Array [
      "debug",
      "Discarding \\"/var/lib/node/node_modules/whook-example/coverage/index.html\\" => \\"/home/whoiam/projects/yolo/coverage/index.html (\\"../..\\").",
    ],
    Array [
      "debug",
      "Discarding \\"/var/lib/node/node_modules/whook-example/node_modules/whook/index.js\\" => \\"/home/whoiam/projects/yolo/node_modules/whook/index.js (\\"../../..\\").",
    ],
    Array [
      "warning",
      "✔️ - Project created!",
    ],
    Array [
      "warning",
      "➕ - Run \`cd yolo\` to enter the project.",
    ],
    Array [
      "warning",
      "➕ - Then run \`DRY_RUN=1 npm run dev\` to check installation.",
    ],
    Array [
      "warning",
      "➕ - And finally run \`npm run watch\` to start dev!",
    ],
  ],
  "oraCalls": Array [
    Array [
      Object {
        "text": "Installing dependencies...",
      },
    ],
  ],
  "oraStartCalls": Array [
    Array [],
  ],
  "oraStopAndPersistCalls": Array [
    Array [
      Object {
        "symbol": "✔️",
        "text": "Installed dependencies",
      },
    ],
  ],
  "readFileCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example/package.json",
    ],
    Array [
      "/var/lib/node/node_modules/whook-example/README.md",
    ],
  ],
  "readdirCalls": Array [
    Array [
      "/var/lib/node/node_modules/whook-example/package.json",
    ],
    Array [
      "/var/lib/node/node_modules/whook-example/README.md",
    ],
  ],
  "writeFileCalls": Array [
    Array [
      "/home/whoiam/projects/yolo/README.md",
      "# super-project

YOLO

## Author
Wayne Campbell

",
    ],
    Array [
      "/home/whoiam/projects/yolo/.env.development",
      "JWT_SECRET=oudelali
",
    ],
    Array [
      "/home/whoiam/projects/yolo/.env.production",
      "JWT_SECRET=oudelali
",
    ],
    Array [
      "/home/whoiam/projects/yolo/package.json",
      "{\\"name\\":\\"super-project\\",\\"description\\":\\"A new Whook project\\",\\"version\\":\\"0.0.0\\",\\"license\\":\\"SEE LICENSE\\",\\"engines\\":{\\"node\\":\\">=16.15.0\\"},\\"main\\":\\"dist/index.js\\",\\"types\\":\\"dist/index.d.ts\\",\\"type\\":\\"module\\",\\"private\\":true,\\"keywords\\":[\\"whook\\"],\\"author\\":{\\"name\\":\\"Wayne Campbell\\",\\"email\\":\\"wayne@warner.com\\"},\\"scripts\\":{\\"apitypes\\":\\"npm run --silent whook -- generateOpenAPISchema --authenticated=true | npm run --silent whook -- generateOpenAPITypes > src/openAPISchema.d.ts\\",\\"architecture\\":\\"jsarch 'src/**/*.ts' > ARCHITECTURE.md && git add ARCHITECTURE.md\\",\\"build\\":\\"rimraf -f 'dist' && tsc --outDir dist\\",\\"postbuild\\":\\"PROJECT_SRC=\\\\\\"$PWD/src\\\\\\" NODE_ENV=\${NODE_ENV:-development} ts-node --esm --files -- bin/build.js\\",\\"cover\\":\\"npm run jest -- --coverage\\",\\"debug\\":\\"NODE_ENV=\${NODE_ENV:-development} DEV_MODE=1 DESTROY_SOCKETS=1 DEBUG=\${DEBUG:-whook} ts-node --esm --inspect bin/dev\\",\\"dev\\":\\"NODE_ENV=\${NODE_ENV:-development} DEV_MODE=1 DESTROY_SOCKETS=1 ts-node --esm --files bin/dev.js\\",\\"genPackagelock\\":\\"npm i --package-lock-only\\",\\"jest\\":\\"NODE_OPTIONS=--experimental-vm-modules NODE_ENV=test jest\\",\\"lint\\":\\"eslint 'src/**/*.ts'\\",\\"prettier\\":\\"prettier --write 'src/**/*.ts'\\",\\"start\\":\\"PROJECT_SRC=\\\\\\"$PWD/dist\\\\\\" NODE_ENV=\${NODE_ENV:-development} node bin/start.js\\",\\"test\\":\\"NODE_ENV=test npm run build && npm run jest\\",\\"watch\\":\\"NODE_ENV=\${NODE_ENV:-development} DEV_MODE=1 DESTROY_SOCKETS=1 ts-node --esm --files bin/watch.js\\",\\"whook\\":\\"NODE_ENV=\${NODE_ENV:-development} whook\\",\\"whook-dev\\":\\"PROJECT_SRC=\\\\\\"$PWD/src\\\\\\" NODE_ENV=\${NODE_ENV:-development} ts-node --esm --files -- bin/whook.js\\",\\"whook-repl\\":\\"PROJECT_SRC=\\\\\\"$PWD/src\\\\\\" NODE_ENV=\${NODE_ENV:-development} ts-node --esm --files -- bin/repl.js\\"},\\"files\\":[\\"bin\\",\\"dist\\",\\"src\\",\\"LICENSE\\",\\"README.md\\",\\"CHANGELOG.md\\"],\\"dependencies\\":{\\"@whook/authorization\\":\\"<current_version>\\",\\"@whook/cli\\":\\"<current_version>\\",\\"@whook/cors\\":\\"<current_version>\\",\\"@whook/http-router\\":\\"<current_version>\\",\\"@whook/http-server\\":\\"^9.0.1\\",\\"@whook/http-transaction\\":\\"<current_version>\\",\\"@whook/swagger-ui\\":\\"<current_version>\\",\\"@whook/whook\\":\\"<current_version>\\",\\"common-services\\":\\"^11.0.1\\",\\"http-auth-utils\\":\\"^3.0.3\\",\\"jwt-service\\":\\"^9.0.1\\",\\"knifecycle\\":\\"^14.0.0\\",\\"openapi-schema-validator\\":\\"^11.0.1\\",\\"openapi-types\\":\\"^11.0.1\\",\\"strict-qs\\":\\"^7.0.0\\",\\"type-fest\\":\\"^2.13.0\\",\\"yerror\\":\\"^6.1.1\\",\\"yhttperror\\":\\"^6.1.1\\"},\\"devDependencies\\":{\\"@types/jest\\":\\"^28.1.1\\",\\"@typescript-eslint/eslint-plugin\\":\\"^5.27.0\\",\\"@typescript-eslint/parser\\":\\"^5.27.0\\",\\"axios\\":\\"^0.27.2\\",\\"chokidar\\":\\"^3.5.1\\",\\"esbuild\\":\\"^0.14.43\\",\\"esbuild-node-externals\\":\\"^1.4.1\\",\\"esbuild-jest\\":\\"^0.5.0\\",\\"eslint\\":\\"^8.17.0\\",\\"eslint-config-prettier\\":\\"^8.5.0\\",\\"eslint-plugin-prettier\\":\\"^4.0.0\\",\\"jest\\":\\"^28.1.0\\",\\"jsarch\\":\\"^5.0.1\\",\\"parse-gitignore\\":\\"^1.0.1\\",\\"prettier\\":\\"^2.6.2\\",\\"rimraf\\":\\"^3.0.2\\",\\"schema2dts\\":\\"^4.1.1\\",\\"typescript\\":\\"^4.7.3\\",\\"ts-node\\":\\"^10.8.1\\"},\\"eslintConfig\\":{\\"extends\\":[\\"eslint:recommended\\",\\"plugin:prettier/recommended\\",\\"plugin:@typescript-eslint/eslint-recommended\\",\\"plugin:@typescript-eslint/recommended\\"],\\"parserOptions\\":{\\"ecmaVersion\\":2018,\\"sourceType\\":\\"script\\",\\"modules\\":true},\\"env\\":{\\"es6\\":true,\\"node\\":true,\\"jest\\":true,\\"mocha\\":true},\\"plugins\\":[\\"prettier\\"],\\"rules\\":{\\"prettier/prettier\\":\\"error\\"},\\"parser\\":\\"@typescript-eslint/parser\\",\\"ignorePatterns\\":[\\"*.d.ts\\"]},\\"prettier\\":{\\"semi\\":true,\\"printWidth\\":80,\\"singleQuote\\":true,\\"trailingComma\\":\\"all\\",\\"proseWrap\\":\\"always\\"},\\"jest\\":{\\"coverageReporters\\":[\\"lcov\\",\\"html\\"],\\"testPathIgnorePatterns\\":[\\"/node_modules/\\"],\\"roots\\":[\\"<rootDir>/src\\"],\\"testEnvironment\\":\\"node\\",\\"transform\\":{\\"^.+\\\\\\\\.tsx?$\\":[\\"esbuild-jest\\",{\\"sourcemap\\":true,\\"format\\":\\"esm\\"}]},\\"moduleNameMapper\\":{\\"(.+)\\\\\\\\.js\\":\\"$1\\"},\\"extensionsToTreatAsEsm\\":[\\".ts\\"]}}",
    ],
    Array [
      "/home/whoiam/projects/yolo/LICENSE",
      "Copyright Wayne Campbell, all rights reserved.",
    ],
    Array [
      "/home/whoiam/projects/yolo/.gitignore",
      "node_modules",
    ],
  ],
}
`;
